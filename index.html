<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome G-Hive Arena</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <div class="logo">G-Hive Arena</div>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <nav class="menu">
            <a href="#performance-rating">Phone Performance</a>
            <a href="#join">Enter Arena</a>
            <a href="#teams">Teams</a>
            <a href="#team-stats">Team Stats & Details</a>
            <a href="#streaming">Spectate Game</a>
        </nav>
    </header>

    <section id="home" class="hero">
        <h1>Welcome to Our Friendly Gaming Tournaments</h1>
        <p>Connect with amazing people and compete with gamers from around the world. Everyone is welcome!</p>
        <button>Join Our Community</button>
    </section>

    <section id="performance-rating" class="panel">
        <h2>Your Device Performance</h2>
        <div id="rating">
            <div>Let's check your device's performance to make sure you're ready to play!</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div id="performance-result"></div>
        </div>
    </section>

    <section id="join" class="panel">
        <h2>Join the Event and Become Part of Our Gaming Family</h2>
        <form id="join-form" action="send_email.php" method="POST">
            <label for="name">Choose Arena User Name:</label>
            <input type="text" id="name" name="name" required>
            <label for="email">Active Email:</label>
            <input type="email" id="email" name="email" required>
            <button type="submit">Enter The Arena</button>
        </form>
        <p id="user-id" aria-live="polite">We’re excited to welcome you! Your User ID will appear here once you join.</p>
        <p id="arena-id" aria-live="polite"></p>
        <p id="entrant-position" aria-live="polite"></p>
    </section>

    <section id="teams" class="panel">
        <h2>Meet Our Amazing Teams</h2>
        <div id="teams-container"></div>
    </section>

    <section id="team-stats" class="panel">
        <h2>Team Stats & Details</h2>
        <div class="team-stats">
            <p>Here's a brief overview of the teams' performance.</p>
            <button class="see-details-btn">See Details</button>
            <div id="team-stats-details" class="hidden">
                <p>More detailed statistics on each team's performance and rankings...</p>
            </div>
        </div>
    </section>

    <section id="arena-performance" class="panel">
        <h2>Arena Stats & Performance</h2>
        <p>View the current performance of the arena...</p>
        <button class="see-details-btn">See Details</button>
        <div id="arena-performance-details" class="hidden">
            <p>Detailed arena statistics, including total entrants, wins, losses, and more...</p>
        </div>
    </section>

    <section id="join-count" class="panel">
        <h2>Total Players Joining</h2>
        <div id="total-joins">Loading...</div>
    </section>

    <section id="streaming" class="panel">
        <h2>Live Stream – Come Watch and Cheer!</h2>
        <div id="live-stream">Join the live stream and be part of the excitement. We’re all in this together!</div>
    </section>

    <section id="streaming-selector-section" class="panel">
        <h3>Select Your Streaming Platform</h3>
        <label for="streaming-selector">Choose Streaming Platform:</label>
        <select id="streaming-selector">
            <option value="twitch">Twitch</option>
            <option value="youtube">YouTube</option>
        </select>

        <div id="streaming-info">
            <p id="streaming-description">Choose a platform to see the streaming link.</p>
            <div id="streaming-link" class="hidden">
                <a href="" target="_blank" id="streaming-url" class="platform-link">Watch on</a>
            </div>
        </div>
    </section>

    <footer id="footer">
        <h3>Follow us on our Platforms</h3>
        <div id="platform-links">
            <a href="https://discord.com/" target="_blank" class="platform-link discord" title="Discord">
                <i class="fab fa-discord"></i>
            </a>
            <a href="https://wa.me/" target="_blank" class="platform-link whatsapp" title="WhatsApp">
                <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://www.instagram.com/" target="_blank" class="platform-link instagram" title="Instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.twitch.tv/" target="_blank" class="platform-link twitch" title="Twitch">
                <i class="fab fa-twitch"></i>
            </a>
            <a href="https://www.facebook.com/" target="_blank" class="platform-link facebook" title="Facebook">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://x.com/" target="_blank" class="platform-link x" title="Twitter (X)">
                <i class="fab fa-x"></i>
            </a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const joinForm = document.getElementById('join-form');
            const arenaIDElement = document.getElementById('arena-id');
            const entrantPositionElement = document.getElementById('entrant-position');

            joinForm.addEventListener('submit', (e) => {
                e.preventDefault(); // Prevent the default form submission

                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;

                // Basic validation
                if (!name || !email) {
                    alert("Please fill in both username and email.");
                    return;
                }

                // Send form data to PHP using fetch
                const formData = new FormData();
                formData.append("name", name);
                formData.append("email", email);

                fetch(joinForm.action, {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json()) // Parse the response as JSON
                .then(data => {
                    if (data.status === 'success') {
                        // Update Arena ID and Entrant Position
                        arenaIDElement.textContent = `Your Arena ID: ${data.arenaID}`;
                        entrantPositionElement.textContent = `You are entrant number: ${data.totalEntrants}`;
                    } else {
                        alert('Error: ' + data.message);
                    }
                })
                .catch(error => {
                    alert("An error occurred: " + error);
                });
            });

            // Teams Dynamic Section
            const teams = [
                { name: 'Hive Masters', description: 'A team of elite players, always striving for victory!' },
                { name: 'Hive Kings', description: 'Our regal competitors with the best strategy and tactics!' },
                { name: 'Hive Legends', description: 'Legendary players who bring honor and skill to every match!' },
                { name: 'Hive Dominators', description: 'The unstoppable force of the G-Hive Arena, dominating every game!' }
            ];

            const teamsContainer = document.getElementById('teams-container');
            teams.forEach(team => {
                const teamElement = document.createElement('div');
                teamElement.classList.add('team');
                teamElement.innerHTML = `
                    <h3>${team.name}</h3>
                    <p>${team.description}</p>
                `;
                teamsContainer.appendChild(teamElement);
            });
        });

        // Mobile hamburger menu toggle
        function toggleMenu() {
            const menu = document.querySelector('.menu');
            menu.classList.toggle('active');
        }
    </script>

    <script src="script.js"></script>
</body>

</html>
